{"paragraphs":[{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759629736_295805880","id":"20170107-122709_335471274","dateCreated":"2017-01-07T12:27:09+0900","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:161","text":"/*\r\n\tThis code is intended to be run in the Scala shell. \r\n\tLaunch the Scala Spark shell by running ./bin/spark-shell from the Spark directory.\r\n\tYou can enter each line in the shell and see the result immediately.\r\n\tThe expected output in the Spark console is presented as commented lines following the\r\n\trelevant code\r\n\r\n\tThe Scala shell creates a SparkContex variable available to us as 'sc'\r\n\r\n\tEnsure you you start your Spark shell with enough memory:\r\n\t\t./bin/spark-shell --driver-memory 1g \r\n*/\r\n\r\n/* Replace 'PATH' with the path to the LFW data */\r\nval path = \"D:\\\\Project\\\\Spark\\\\Machine-Learning-with-Spark\\\\Data\\\\lfw\"\r\nval rdd = sc.wholeTextFiles(path + \"\\\\*\")\r\nval first = rdd.first\r\n\r\nprintln(first)","dateUpdated":"2017-01-07T13:24:17+0900","dateFinished":"2017-01-07T13:25:20+0900","dateStarted":"2017-01-07T13:24:17+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"(file:/D:/Project/Spark/Machine-Learning-with-Spark/Data/lfw/Aaron_Eckhart/Aaron_Eckhart_0001.jpg,����\u0000\u0010JFIF\u0000\u0001\u0001\u0000\u0000\u0001\u0000\u0001\u0000\u0000��\u0000C\u0000\u0003\u0002\u0002\u0003\u0002\u0002\u0003\u0003\u0003\u0003\u0004\u0003\u0003\u0004\u0005\b\u0005\u0005\u0004\u0004\u0005\n\u0007\u0007\u0006\b\f\n\f\f\u000b\n\u000b\u000b\r\u000e\u0012\u0010\r\u000e\u0011\u000e\u000b\u000b\u0010\u0016\u0010\u0011\u0013\u0014\u0015\u0015\u0015\f\u000f\u0017\u0018\u0016\u0014\u0018\u0012\u0014\u0015\u0014��\u0000C\u0001\u0003\u0004\u0004\u0005\u0004\u0005\t\u0005\u0005\t\u0014\r\u000b\r\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014\u0014��\u0000\u0011\b\u0000�\u0000�\u0003\u0001\"\u0000\u0002\u0011\u0001\u0003\u0011\u0001��\u0000\u001f\u0000\u0000\u0001\u0005\u0001\u0001\u0001\u0001\u0001\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b��\u0000�\u0010\u0000\u0002\u0001\u0003\u0003\u0002\u0004\u0003\u0005\u0005\u0004\u0004\u0000\u0000\u0001}\u0001\u0002\u0003\u0000\u0004\u0011\u0005\u0012!1A\u0006\u0013Qa\u0007\"q\u00142���\b#B��\u0015R��$3br�\t\n\u0016\u0017\u0018\u0019\u001a%&'()*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz���������������������������������������������������������������������������\u0000\u001f\u0001\u0000\u0003\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b��\u0000�\u0011\u0000\u0002\u0001\u0002\u0004\u0004\u0003\u0004\u0007\u0005\u0004\u0004\u0000\u0001\u0002w\u0000\u0001\u0002\u0003\u0011\u0004\u0005!1\u0006\u0012AQ\u0007aq\u0013\"2�\b\u0014B����\t#3R�\u0015br�\n\u0016$4�%�\u0017\u0018\u0019\u001a&'()*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz��������������������������������������������������������������������������\u0000\f\u0003\u0001\u0000\u0002\u0011\u0003\u0011\u0000?\u0000��\u0010/���_zy\u0007�\u0014\u0000�%}��WޟE\u0000'���&��/|�8|�����R`0Z�<��(=MM���\u0011�\t�\u0011�D�rqM6�O\u0004Ս�\u0018�}Á�h\u0002?������jj*[`@m�w4�j���\t\u0018�%R��\u000b6C�U�FM'ٔ\u001es��\u0012\u0017~\u0006jql3��G�K��f\u0018\u0010t�9m\u0015� ��K\u0018\\���n4�\"S$`��Q�q�f\u001bT\u001cd���x\u0004�\u0019�8��\u00019�N�2\u001f��\u001dNi\u0005�\u0003�jP�4��V2\u0011h��4��s���g�)�s@\f6�1ɧ��G�?�=�\fk6�\r�\u001c>��ҋ8=[��i�p\u000eFh�p\u0003g\u0006:��Q��\u001fV��b�\u001d)�i�)���G�h}[������R\u001d��b�rS�\u0010�KK��\u0014�4�\u0001E\u0003��\u0006\u0004�\u0000�8�('\u0014\u0000n\u001e��9�n4\u0006#�M��e\u001b1Q�[=x�\u000b\u00128=hJ⸴��f�\f����V���ǽ@Ŷ��5\u0013���(�h�d�f\u001c)>�z�A��T��]gᄴa$�u^p;Չey\u0007�\u0004[\u0010w�s���uB\rnr��Ii��\nX�_?�/�^��v�����skz�*���Q�L�a\u001fJH\u0007��5\u00147B\u0017h�\u0019^�淽��\u0016��w+!�e���Hݙ\\��[�NZ3�\u001e©2Բ+��rڻ�֖fm\\� �\u001dj%S��U״�!��j�\u0007\u0004�Z� \u001a\u000e�Zh\u0005NGZ@Ě���(���\u0005�H\u001b\u0019��\u000e)\u0017���\u0007o�;�qH\u0000�+ѫ\u0001x\u0003\u0007�M��H�sRo>�X\b2h�j@�-Fz�\u0000�֐(\u0006�*�\u0000��J�(\u001dM0\u001b�K���s@\bA�i��p\b\u0007'��B��\u0001�;�\u001f\u0003XA��\r���� ��g7ȮTUغ\u000f�n.\u0002K\"�\u001erEt�\"ب� \u001eOU��R��\u0001\u0011\"�$TvzlC/\u0014FC�����>U9��SKR��������J{\u001ekd��F0UT\u0017�V�\u001a9\u0014�!\u0018裥Y�\u0012� ���Ys\u001aثy���\u0001��QYs�[ B���We�\u0000\b�\u0016�,�\u0004�\u0011�F��wM��f+o\u0018����jA+X�MT���Gҹ��NK�\n�m>��^���X�j�JƖ�rv�Ê鄎\u0019ۡ����8\u0007�^�]�\u000e�\u0013��&�6��L�\f�\u0018�+^c#N(��\u0002���ҳﴹc$��\u0014C4�N1�5�e3G�r\u0007\"�H9NBT��\u0015W85�_Y��\\`\u001f��D��=+t�&�F9�K�F\t�1F�TH�A��O�J�@\u0011�\u00141�K����^�@\u000e)r*V����_�.`\u001axJ������z�`\u0000g4��w�`�0�5H\u0005\u001cQE\u0014�)ri(c���\u0003�ZO�tn+��\u000bi\u001d��G�t��O��:���v��\u0010s^��r!|F�c\u001e+���M����\u0003�J�\u0010\b�U�Zid\u0016<�\t\u001a�#\u00158�6���ː�Vc<����\u001e���]\"���c�L��T\u0013�/�z�����i���N��*��F����S���\u0007�R��\\��9{Ė&��r�}\u0001\u0018�\u0017z`��+;'��]��B'�g����\"�����cY�0��z�����K��ͦ[ۡ��L}\u0014��Ǹ$\u001bW�zנ��4E\u0013L\u0011\u000fP�?ʹ�Z\b�y<{w�a$ٔ�$�8{�iXd`�WdM։����� �`��R.��*\u0015$�J��4i���v%§���ආ�\u0016�\u0011�D?4>��ml$���\u0003\n�\u0018��L\u001f�Z��P\u0001?0�\u0015P�err�L�SOX�:�3�}+��L��`Wy��\u0004�\u0000���ҸmN?\"r:b�[�0h�J�Fy�R;�j\u0011\"�p�>��c�]Oc&I���w���\u0000�\u0006RiXD�����oZ��\u001aB�;�`,n�s�;z�UB䯽7-G(\u000f*JRm����:�,\r]�BsM��i�Ҙ\tE#g4`�S\u0001h#q�'\"�6�I�\u0001f���\u0002�\u0004�\u0015��\r���B�Q1����\u0000\b�r�W��E�*\u000e��t�jO\t��2�cnկ?\u00134��B-jY�Q��u�qX��[�:tn�\u0010\u00168���\u001c�<�����\t��[\u0015�\u0016��j��(�Ѩe\u001c�:׃R�*��xz\u000e�<CL��ӌ*��Ҭ�~\u0017[p��;�׹�\u001e\u0004��\u0010鰎xݎ�o��\u0000\u0003��I\u0016]A���X�w��2���g��RC\u0015�J�t\u0000qS[x\u0003Y�q �p?�Gj�\"����b\u0017\u0012��Z��d��e�Б��\u0015��0xX\\�����ī�g\u0007��\u0015�k�\u000f���B��M}���RwWLn\u001f�ך�\u000f�� ­��r(�&�\u001e\u000e-h|��\u0018�a�\"#�@�����O�+�\u001dO�˥��`1\u0018�\\ĚJ[�qɮ��l�`�Y�Z������\u0018\u0001�*�mV/��\u001d:v����Qhe�P(�vkȵ=2Cx�\u0002\u0014g��#����v\u0005ƞ��}k��5�.&_�k��\u001bF�\u00199\u00062Fk��J�hB�\u0001]�z�L�G\u001d�;\u000eԴ:+�G�\u001c͆�1�\u001b$�qJNEP\tҌ�^izP\u0002�\n8��F(\u0002BN�in:S�ܨÊ\u0000o�>��x�HqQ?Z\u0000q Ӂ�2��\u0000��U�\"�+���L\f�Eg���4H�N��q��\u001e��K\r\u001e��G\u0013e��f#�촸m�T�bGd�%��r\b4tץ��a;�7\u0003[�v�\u001a��\u000e�\u0019 ׃�����a��\"{���9/u��\b\t�����6\u0011�\u001a��Č���\u0000��O&�{|�!�+��\u0015�w�������v>��Q�бX���P?ݭ\u001b[?/\u001f�\n=\rAl\fl��SZ�C\f̠�҉��U�ӭ��k��\u0006�Iej#($�����˭\u000e�h[�jN=y�r}\u0002٢p�Ѿ~�46GS3P�cdc\u0014ퟨ�3Yӧ�%��}��[s�\u00141[�\u0000��9�i�@�\f���5���:\u001e{�\t���t\u0003\u001d��n�IVGB1�k��\u001c���6]�\\��s<-��5�\u0004���_F�0��6\u0013���>��Mӱ\u0003$�W�j6�\u0014�\n�f���0pA5�a��<\\e�8_\u0014J-�p\u0001��W\"�mF�\"�溏\u0010�Oz��\\N�\u0014���\u0015��W>f��)� }h+�\nČ\u001e��])��cW��Z@84R\u0013���qKF3E\u0000\u0014QE\u0000J���%\u0015(�,�\u0010f�#n���\u00184�\u0000)��\u0006�\u0003֕q�ޓ\u0000W���]��FMQ\u0018\u001d�\u0001(AZ�>���$MKŗv�r�\u0002j��\t���:�P��+t�4���f�ƺ��d\u0016�@��*Ǐ�\u000b�o��G$L�k�����\u0015��Ҥ��8x�a�>�����<\u0005o�p�6�b�\u000bP����\u0007q9�Y�\rlM���[��\u0016!�Z�'����V�\r���\u0019�|�]gs�C܊}�\rG��\u0016��:�(�沭�2�Z6^\u0002��\u0000+;�_\u000e<L�\u0016�c�y�d�1�JT����\u0017�t?\u0018�\u0013����R�1�X6+�\u0014��rΣ�-\u000f����W\u001a�D\r��?y�]���k4�6\u0003#$\u001a���ϊ5\u000b��읞�c;wȧ'�u��\\h-�JH\u0005e5ˡ�\ts��u\u0010�\u0004o#\u0010B����[��24�yh\t\u0018�U>&x�<2�\u0014���zׄ�\u0011���Hb�y\u0015\u0001bP����\u001e}H�h�^�꭭iW�G���#��W��\u00104j��\u000e1^)����wS\u0002�Oar\u000eͲ)`O�+���R�\r֗+;F2Np*�Tlq�L\u001b*j�,s�\u001e샑ɯ\u0012�\u0014��Y�\\�9�O7\u0012_L���<�^A㛯#Y�N��:�\u001dO?\u001b+��֧)\f�{��1�$��\u001a��&�<��鿫zW7ҽ�j�����]��)\u0014f��gl֦a�����\u0000\b�E\u0000\u0003�>�%.\r&\u0004rv�������\u0001�\u0000���c�NO�5\u000e0j�\u0002��S)�s�\u000b��\r�}��1M�\r(|��\u0007Q�h\u0014�����\u0007����/\u001e\u001c��`�(�\u001b��7��~�x��>��\u0006�.-�I\u0007��P:���䧄u�е�;����U�O�5��࿊k�\u001b��:��2����i\u0002�:��弑��eHԃ��.�61�+aQ@\u0015�\u0010�,\n�Az�o\u0002��\u0018w�P�&2�\n��_<�3��w�\u0015�\u001a��ʨ��H>��o\u0013h�ެj��E.yeQ�w���\u0012���SEm\u0014\u0012�t�ȭ����9\u0015��-��4�[HM�D��az�_\n��I�\u001d�ʓ���:���\u0007Ұ�di4�\t�Fk9.sJq�g�?\u001b-F��B\u001c�2A\u0015��>\u0004ӭ/\u001aH����1�]\u0007����d� 1\u0015��i��\u0002����5c��57��_�\f�e�K������:���\u0004������U��'i�r}&�3���.�m\u001cfEZ�m��XxC[\u001e0�L�F�΂\u001crq_?��9n�U2D7n\u0018��|v�\u001d��q�.q^\u001f}eifn5�c�$q�\u0004���5�Bz�y��^��\u0004�Q��$N\u0006R�����]\u000b����<�K~�X��Gc�\u001e�\u0006�H�+\f�U\u0019�)QT\u0003W�%\u0000b�\u000ei\\\u0007\u000e���OZZ)\u0000�#�ZZB��e \u001c��T�x��\u001e]@�g�\u0000\u0018�Ӛb�}h\u0003\u0014�H\u0004��Fsڛ�J��u<�2����\u0002[y<�\u0004�C_C~�_\u001au�\u000b�\u0010xf�q&�x�\\����\u0013_:\u0017ܬ\u0007a]�­@�x�F��\u0001p�'�\"�q4��mFN�D�S�[���H��\u0019�z��81�\u0000ds^Q�\u0016Vӭ�\u001c�Aҽ'M�Td^���U_$�}�9�)\u001d���o\f:TWw!�w�/Z���E��8�Y����ļ�9�\\\u001bf�^����FP1����E=��rI��x4������\u0013.�\u0001�\u0019�?\u0019�[&�p�\u001bz�Zlˁ�\u0017�7Z�R3�Y���|\u001b9��Y�\u0004W?�v��^m�@\\�5�x(+[��\u0017\u0015SWD=Y�]�/�\n\u0012I�{Q�6��\u0019n��jN�֪¼��Z��%\u0007��\u001d˒V<��ړ5��\t\fN\u0007�x?��\u0000\u0017�\u001e�k�Z�ߌ�GZ�O�� {;)���n\u0015�.����z�͖v\u0019���SOS�1�쬊x\fs�?�.�M\u0000�ݧy���Ǳ��j\u0018\"�iC��B\u0010�Ң\u0000:�S�s�j\u00006�HF\u000e)۰)@�s@\r8S�7\nB��E\u001czP\u0003\u0007�5\u0011�J\u001c�4�sV\u0000N)7�Y�qH0N3�.�\f�ңu� L6������M���-���A\u001cd�r�4V�)�č�]��\u001c��_\u0000�;*��\b��\u0000`����q���^\u000b��|/�K8���\u001bR�\u001c��'�9\u0010�>'��Ï\u0011x�eM3N�PN\u0003m��_@�2��.R���W�e�n�!�����_V��\u001e��B��]�Vč�a�k���!\u0017�tۛۅ��D��O�t�6�)38ɺ�\"��1em\u0015�xU\t��������d�G�y��3Ap\u001b'nI\u0007�]��td���~y��������j)3��S2�$���V}����\u0005��V>��\u0014�������3���<�mR&��xZN9C��SM��J�[�^;��\u0018\u0001rpk���9�f��=�ddWi{��\n�\u0007�.R7~\u0001pEcIe�Y��_@�� �\u0015�\\�\u001d��\u0018��.�V��vPX���L��\u0004���rK�O�4{\u0012�%��1�f\u0015�i\u0013��f~\\q�*���\u0019]���6�\r����\u001cs^K�=X\u000b�T\u001e\u0014���̶l���\u001e���:Σ�����ҥN�EnX�/�\u001b'�\u0012�[$�\u0018�Exv���\u001d��\u0019e���o\u0012��h�|�`f���<�Ar�E��8���\u0016��x�s�÷\u0015\\\u0016R}\u0017�7u{��?T�浈�'�\u001a�u?������<�\u001f�t��U��+Җ��t��:R�@��T�2݃\f�*�L�)\u0014��n��\u0003���5\u0000N�A昽)A+ր\u0014�\u001c���f\f�y��\u0000V\u0007�#�\u000b�ޝ\fn�E\u0005ٺ\u0005\u00195��\rgO\u0012��X��M�� ��\u0018l{\n�)�a7c� �{�6��n�GZ�\u000f������v�)�{+C�i�\u0000���\u0000\r?e�\u0000\n�\"8d�\u0006�|\u0006L����^�bֶr�\nG\nƭ�\u0014c\u0015�N��3s��\u001e\u0007��<3�ĭ��/&�dg�^о\u0010x_@�u��\fEG���5��a\u0015�h�6�;k\n���L#�\u0005F�]Ѥ��0�Wc����%��%\u00064=\u0007ˁ�Wm��߲i>U��\u001d�\u00020Md�b��$(N���uz�0j7Q$��}k^U\u0013\u001b��`|9���\u0016��\u000e��\u0015�v�S[�\u0011�E��.%�\u000e�\u001fb��M^�ԋ\u0013�*�\u0014~��\u001a�h)�Ӽ\r���E �c�v��:p���\u001e�o�i�0\u0019!rj�����0\u001cv�S�����S!\u001b^%݊u�����rѱ�5�+Th�\n��5#z��1ve$�f��������\u0010����A�r\u0016�\u0006\u0010���=�V�Qd�)�\u0004W>�\u000e�u\u0015�fx�N�\u001a#\u001dͲ$��4C\u0006��]�\u0016�v���7+�vo8\u001f�z>�o\u0004�\te\u0004�W!yi\u0003ܱl�5m\u00198�.H�\u001f\u0010�d-�K\u001b��5�X���h\u001ad�l�y�f<Wq�+;=>2�f=���=A�/��\u0001�V��G��ZI#_ŷ�\u001d=�\f���׏�z�\\G��y��\u0010��M\u0018�~}뇸�M�hNH5�Ц�xx������\u001e��/a�h�/��Q�a�\u001b�.\"\u0005�NN��f����\u0007,8�<\u0011��l@̱����h|����\ty���\u0005ȭh4g�\u000e�>�+��}�[<q(����K\b����5��mL�ssx*�S�.�Q��\u0014W\r��\u0000��\u001b�˦b&<�k����#�\u00047�,\u0016��)b>_J���\u001f1�/�~\u001c���\u0012\u0013wf�/��\\��\u000bpF\u000f9��[�\nC��Y�IQ�0�=�g��k.�\u0018�<�r�\u0007\u0002��w>@^\u0006h�\u0018�z���\u0000g�s���\u0006�\u0001�\u0007j�+�>�O��r�nGgR*\\Z\u000b��\n�i�4��q��N�bҹ�����'þ\f\u000bu����\f���S��M��=>�;;H\u00128���t���Yi4��C\t\u0017����ͬ���H�B��\"��t�\u000e\u0019L��4�ւU\u0018r;�Mb[i�G|��G\u001erI\u001c�u��k�so\u001e�\f�p\u0005k��;�6\b쵻�TD%yY�fy\u001e�N�Tu�^}y���2e�a��^��IU�I�2!$\u001eEx߇�'���\u001b'x�?�[B71���\u001e��+\u0004\u001aLr���0䞵SY-gx��\u0016\nr��jǇ�b{\u0004�\f����f^\\:\u0019|�\u0003\u001f��\u0014�q�w��&���Gp\u001d��\u0000�����\u0006����}J\u0005�)���\\�����Ag\u001a�\u00006r�\u001e����\u000b^x\u001fP��\t ~\u0015�R�2w.\u000f��xo�O\u0016�S�y\u0001��b�=�O�^�a��\u0003�\u0019\u001c�ƞ\u0003�4�\u000b��}h�\u0015�� =\b�5�F���\n�8��\u000fZ��\u001fG����\u0006\u0006J�+\\����fF \u0014���k!��t\u0007\u001d�\u0003y��>I\u0007Lw���\u0004֒��\u0004{⸢�S�Õ��#��m<�4(\fq�����X\u000b�P���\"�u�SU��̗\u0011��j\u000f\u001ex��\r1m�q �\fb�)6m)Z'����\u0017�gx�\u0000W�����e\u001f)'�l��_i�Iٶ��\rr7��۷S���Tu<ʍ�C.���̓�+\u0013H����%�\u001b���U�\u0010]<\u00163\u001d��6�_��\u0017�\u000b4�t>l�xS�^�\u0005��b�ȈE�@ai@\u000eÏ����\u000b\u0012\\�A;�5���Œ8e\b\u0014)��X��ʅ�0��ي<\t3\u0003H�}:��#!��zV� �v��5�eqo��w ~}����⛂��u�����ǘ߇1�*ۀ�\r]��u���\u000bߚtv�q\u0016v\u0014oOZ��t�|�0:涧\u000b\u0005Ŗ��\\��\fc�\u001d+b���\u001c��e���T�\u0005�]\"��8��Yg�k\"���UȊ�3��-\u001a\u0002����I�5�\u0010~\th�,��[\u0004�lq,c\u0004\u001f½��+�U�\u0000t5N�(��!���\u001a�SC�??�$�\u000bռ\u000b#�l�}b?�uJ�#�p[\u0004u\u0018��\u0010�V�����\u0010u�\u0010F2\rx���ݦKq+�\u00003\u0013�{�$��j���o��5\u0015|\f�^y�\u000f��B�*�\f\n��\"\u0006�\f�\u001e������;y��PN\u0010\u0015z�\u0001�~\u0014�\u000e�t��g�\u0001�M�.����\u001c9�8�&�<:��\u0015��s����\u000e�g�(�C\u0005��;\u000bgs���ۤ�+���\n���\u00177Px���]�����g�/;Ki��z�\t�{W�X�\u001b�\u001a]̪\u0002�\u0003\"�;2^�����3��4����/��cƺ�mqm\u0015I\f@;k��ͳK`I?1\u0019�+μlϤk�m�u\u001b�B�=�=*$��'�E\u0005��q,Y�Al����\u0000�z\u0003v�+�¡�m���\u0001�`�}*���\u000bw]��sY��+\u001au?9�3�z�Þ&��4!����:\u000eMz7�O\u001c\u000b�+y����3]���\u0004�/.$e_.pX\u0002?�\u0015�恬]xGUk\u0019�D����N��8�72>�\u0001�P�����\u0012C<j\\�g�ճ\u001dк�����z�\u001f\u000b��;�T��t�'�z6��dtM�T��|�z2���S�\n�S�6֒d5��^s�\u0002[k\u0018�+\u0019Y;f�Iu-�\u0016�EC��_\u0019\u0016�%w����5�8�\nQ����K�!Fў��b]>;[6�L,�E[��\u001aR@ʩ�\\��O\u0013��\u0002��\u0000�'b��k�)N�嚍4�0�.[W�\u0015��\u0003t~`2}+ٴM2xQY��k�\u0000zW��3�گ����i���>����/��x.d���_\\\u000f����xz^��b��J���\u0010�C6��,Y$d\u001cW�-��\u000f\u001c����X�\u001f�\u0016/�|�V��\u001epLc \n���\u000b�R�&�-�!���KG��Kc\u0012���)4j8����0�\u0013 ^r+?F�\u0013�\\�\u0000\u0000�\u0002��\u000b�RI=����b�KC�GM��\t\u0011#�X�[��ΰ��\u0000�5��܏�\u0001�\u0017 b��\u0001���I�\u0003���c����[�\u00008�\u001d\u0017�����S�l��ɻ�=���W��\n\u0002�\u000e\u0005z\u0004o$q)+�#�i\u0018�I�}�\u0018��_8�\u001e��{l]Y�Lz\n�5�U fS���W\u001an�����pz���R�����l�N1Ryv��Ƶ5\u0019c��#\u00006z�k#\u0012�\u001c}(�\u0003����d�|\u00102Cq]5�糚�V\u0012?$1�\\\u001f���$�i\f�]>��)���+��\u0019�tzRkV��i3��\u001fT��Ú��\u0002�1�+��n�nn\u0019A�O\u0002�|}�,�s\u0012�1\u001dj��=Q��j\u0006�M�G�GC�\u001fJ�]\u001a��x��0I>g��Aѵ\u000f��\u001d㍤W�@��M<�|�'������7�Z��h9�\u0013�ʼ��\\�`�HԂ��\u0002x����&�᱅�\u0003�L>v�ʌw�#�zĥ��^\u001d��]\"��z\u0018W<��\\����v�k˘�B2In@�,Ҿ*C�|?��2�s!���\u0001�-o��.w\\��\n���y�*�=��q�ܱ�\u000f㿆|e�âZ�ne�J��q���\u001f\u0013�\u0002�s��\t��Cr\u0003�+�\u0015���\u0000\f��Y\u0014$y[ۉ\t�*�y�K];�z�\n\u0016>\u0012�.[���)T����P�Ϙ�7�\t -\u00018�#�S�\u0015����xc\u0000\u0002�w'���O�vZ�:��\u001b\\6K�\u0018��Ҽ�T��F�%��8t8���/\u0011Ioc���oD��N���,S\u0012=3V�5\u001b�C\u001e{\u0012����}4�Ԗ\u000b��\u0015�}�5��^T����P���\u0019:���4�e\u0003�&�\u001f\u0001�\"�~-{���\u000bc���ds[�/��S��M����o\u0015{��7�o\u000e��\u001d��\u001b�P\u001b�O����QnW��f\u0018�e\u0014t^3����}\u001e��Drߔ��\"\u000e\u0017��v������\u0010M=ԃt�K`����5\u0011\u001b�ws���Oҽ\u000b��\u0016\u0010^�n�\u001b+�T��>k����]/�rI�5�|���͌��O\u000e�Ӎ>�O��)2ݫZo���Q�v\f�8����-�ح��\u0004Yl`�[{\u0014�R����?����MzG�t֛M�u_�O^+��ԝv���t�O�\\d軲\u0016�9l�[�1��-�N�\u0011]�c�Mw\u001d\u0018q\\ή@!ی\u001a���[\u0012\u0001��Du\u0005&�>���Ց�9'�wvq\u0017�V��k\u0006���\u00188�kb�͂�؟�9�+t�+������\u001a%�H b��5`#F����nu_�\u00101�ѩ�\u001e��E\fqY\u000f�$t�\u000b��\u001a�\u0010\u000f\u0004�@\u0007ӊ�]2\u0010�qҋ\u000b4��i\u001b\u0004��5(�-�\u0000v�qH._���\u0016�\u0018�Tv\u0015�h����l�\u0010��w�\u001a�ίm2��0=���4i����3������fAg��\u000b-PFr�\u001c�^�����\u00072 p\u0007q^Uo��7�̯��k�t+ëiS\u0007a��Ij\u0017�y^�\u000f٭\\E�g�y���.��\f�W�x�\u001f\"\u0019�\u001dy�גX \u001a������+=�t�\u001c�T\u00020\b�w�Y�X�3��]\u000f��-\u001a�y\u0019�7�M�SZ�\u0001��Wm\u0002�xOL��-���%��}�\u0018d)�\u0015��^\u001cY�\u0015�\u0006\n��Z�5\b���߽ҽV��.m�܌��k�t\u0014�ʅG\u0016|��\u000f\u0003K�k0\\,*�$�0:W��x]u�\u000f��\u0019$�\fq�J�<]��:/��5{�v�V�I鍸�c�Q5�rg�x\u0015����f�.P�[�F���_�f��E'�l��8r�֯�48\u0016D�H��\u0013n\u0004\u000eMt�,\u0016���\u001f�\u0003��\rUL2�*�~F|���\t�x7V�\u0015�\u0013������X-�(\u001c6F=���\u0000��\u000e��4K�'`.|��9�=�|[k�ټA\u001e�b+rg\u0011�\\ds^\u000e#\t(;�{�|e���\u0000\r4{%���v�\u0004v�)HC�\u0000\u0013���5�7ڴ�8�\u0015��2�F�J\u0016�\u0003һ/�W�Iд�\r�N~�\u001cj�\b��#��k7BК�ñ\u001d�]��q�vR����n\"����\u0000\b�Z\u000b���)�\u001b 0�S�|:b�I\u001c|�qY�\u000e�,��P�f\u0019\"�\u0006�\u000f.�I�\t�\u001cW�\b%�\u001c\r���h�b-f\\����ףh�\u000f�˅�\u001e��xOKk�Vi\nd\u0016<~5���_��G��pF\u0007n+G\u001b�\b�g�@�?\u0010\\�=I�zG�\u0011N� ^���\fZ�x�4\u001eX�^��-5fҤd�u���}�S���3p��;x�]�6iQm\u0001�ާ�s\u001a�\n�J\u0002�}Evz\r�\u000b {\u0005�YE\u0017fS[P/\"c�#�.�9�Ҧg8P���b��\u0000�\u0014���1����\u0006g��wr�\f@S��I��������w=�\u001f�vW5�W0)M�\u0001�\u001e���\n!�I�`�\u000eY2�}+�쉼�9ʯ\b*����F�<Zu���-#\f���k�_[�;\u000f/<���]}�Τeٸ�����T\u0012ɒ9�I=�����o��+\"\u001f-��[Z���i���8\n7\u001f|s\\_�X�R\t$n�]ƌ9�^�zWK��,�&e���\u000fN��|;�\u0005�\\Z�W\t�0\u0017R8�գ��%r��c�k(\u0012�����}�+/�y6�\u0000����%�^��(\u0001�!\u001c\u0012y5�)?�R�ڥ�h�\t��\r��*۱�Үx�\u001am6G۷����\u0006F{�hx��\u0016O�m-�\u000f1��W�J�rEz��G�\u0000�GJ��T\u0002\b\u0000\u001d�k�|\u001e3j�AS\u001d�[��Մ�f�MY�@[B���k/Wbd���Vކ��� \u001f���6Z\u0019�݄WV�\t��\\��e:F�,\u0017e�lp��O��\u001d�+��@\u0017��0wu�ū;�|K����/�قF7���x\u001e���~6��_4^`RR�?W9�\u0000\u0011_Ix�����`m�A縯�<H\u0002h�XQ�5�d\u000e3�k�\u0013��\t��U�}{[G�7�t����Y��(��zacN\u0005y��\u0000��/��K������@�YR�J��7&Z��\u0013Q��'�\u0001ڸ��R�}?E�-�n���\f�\u0002\u0001\u0019��\u0019�\"�N3Һ�&/R?\u0000�m���%s�z%�Gx���\u0015\u00199�O�\u0000\u000bx�\u0005t��\u0000ǜ�kD�LO)�m\u0005��Ï�I�I�B���=�W����C�ס�8\u0001\u0007N�ۺ3�Ff���\u001d\u0018���\u0015��z�*ln��cQ�\u0000���ֵ<6���'��'S��g�\u0000\n�c�\u0003�V�!�{�\b�\\�:�}K� 8�W��pv\u001aR��\u001b�\u0019�%�=�>\u001b�hڤg��*��\u0018R\u001b4U��L���\u001f��\u001f�+�$w��\u0011|�\u001c|�ⴵњv8�Ze�S��\u000e�\u0002U��.�\u0015����J���/���7�:�^�\n/��(���5��\u000f�?��)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\r\r\n\r\r\r\n\r\n\r\npath: String = D:\\Project\\Spark\\Machine-Learning-with-Spark\\Data\\lfw\r\nrdd: org.apache.spark.rdd.RDD[(String, String)] = D:\\Project\\Spark\\Machine-Learning-with-Spark\\Data\\lfw\\* MapPartitionsRDD[784] at wholeTextFiles at <console>:58\r\nfirst: (String, String) =\r\n(file:/D:/Project/Spark/Machine-Learning-with-Spark/Data/lfw/Aaron_Eckhart/Aaron_Eckhart_0001.jpg,����??JFIF??????????��?C??????????????????????\r\n????\r\n\r\n\r\n\r\n\r\n  \r???\r???  ?????????\r\n??????????��?C??????? ?? ?\r \r??????????????????????????????????????????????????��????�?�??\"???????��? ??????????????????????????\r\n ��?�????????????????}????????!1A??Qa?\"q?2���?#B��?R��$3br�\r\n?????%&'()*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz���������������������������������������������������������������������������? ??????????????????????????\r\n ��?�???..."},"focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759653758_-441342365","id":"20170107-122733_1201215102","dateCreated":"2017-01-07T12:27:33+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:667","text":"// extract just the file names\r\nval files = rdd.map { case (fileName, content) => fileName.replace(\"file:\", \"\") }\r\n\r\nprintln(files.first)\r\n// file:/PATH/lfw/Aaron_Eckhart/Aaron_Eckhart_0001.jpg\r\nprintln(files.count)","dateUpdated":"2017-01-07T13:24:17+0900","dateFinished":"2017-01-07T13:25:36+0900","dateStarted":"2017-01-07T13:24:17+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nfiles: org.apache.spark.rdd.RDD[String] = MapPartitionsRDD[785] at map at <console>:43\n/D:/Project/Spark/Machine-Learning-with-Spark/Data/lfw/Aaron_Eckhart/Aaron_Eckhart_0001.jpg\r\n1057\r\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759652902_-321300708","id":"20170107-122732_1152012514","dateCreated":"2017-01-07T12:27:32+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:597","text":"// load an image from a file\r\nimport java.awt.image.BufferedImage\r\ndef loadImageFromFile(path: String): BufferedImage = { \r\n\timport javax.imageio.ImageIO\r\n\timport java.io.File\r\n\tImageIO.read(new File(path))\r\n}\r\n\r\nval aePath = path + \"\\\\Aaron_Eckhart\\\\Aaron_Eckhart_0001.jpg\"\r\nval aeImage = loadImageFromFile(aePath)","dateUpdated":"2017-01-07T13:24:17+0900","dateFinished":"2017-01-07T13:25:38+0900","dateStarted":"2017-01-07T13:25:21+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport java.awt.image.BufferedImage\n\nloadImageFromFile: (path: String)java.awt.image.BufferedImage\n\naePath: String = D:\\Project\\Spark\\Machine-Learning-with-Spark\\Data\\lfw\\Aaron_Eckhart\\Aaron_Eckhart_0001.jpg\n\naeImage: java.awt.image.BufferedImage = BufferedImage@2c45115f: type = 5 ColorModel: #pixelBits = 24 numComponents = 3 color space = java.awt.color.ICC_ColorSpace@342d7bbe transparency = 1 has alpha = false isAlphaPre = false ByteInterleavedRaster: width = 250 height = 250 #numDataElements 3 dataOff[0] = 2\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759651994_-1437072518","id":"20170107-122731_599645386","dateCreated":"2017-01-07T12:27:31+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:527","text":"// convert an image to grayscale, and scale it to new width and height\r\ndef processImage(image: BufferedImage, width: Int, height: Int): BufferedImage = {\r\n\tval bwImage = new BufferedImage(width, height, BufferedImage.TYPE_BYTE_GRAY)\r\n\tval g = bwImage.getGraphics()\r\n\tg.drawImage(image, 0, 0, width, height, null)\r\n\tg.dispose()\r\n\tbwImage\r\n}\r\n\r\nval grayImage = processImage(aeImage, 100, 100)","dateUpdated":"2017-01-07T13:24:17+0900","dateFinished":"2017-01-07T13:25:38+0900","dateStarted":"2017-01-07T13:25:37+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nprocessImage: (image: java.awt.image.BufferedImage, width: Int, height: Int)java.awt.image.BufferedImage\n\ngrayImage: java.awt.image.BufferedImage = BufferedImage@71fc224f: type = 10 ColorModel: #pixelBits = 8 numComponents = 1 color space = java.awt.color.ICC_ColorSpace@72b8cd70 transparency = 1 has alpha = false isAlphaPre = false ByteInterleavedRaster: width = 100 height = 100 #numDataElements 1 dataOff[0] = 0\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759651045_-1085796772","id":"20170107-122731_157121600","dateCreated":"2017-01-07T12:27:31+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:457","text":"// write the image out to the file system\r\nimport javax.imageio.ImageIO\r\nimport java.io.File\r\nImageIO.write(grayImage, \"jpg\", new File(path + \"\\\\tmp\\\\aeGray.jpg\"))\r\n\r\n// extract the raw pixels from the image as a Double array\r\ndef getPixelsFromImage(image: BufferedImage): Array[Double] = {\r\n\tval width = image.getWidth\r\n\tval height = image.getHeight\r\n\tval pixels = Array.ofDim[Double](width * height)\r\n\timage.getData.getPixels(0, 0, width, height, pixels)\r\n\t// pixels.map(p => p / 255.0) \t\t// optionally scale to [0, 1] domain\r\n}\r\n\r\n// put all the functions together\r\ndef extractPixels(path: String, width: Int, height: Int): Array[Double] = {\r\n\tval raw = loadImageFromFile(path)\r\n\tval processed = processImage(raw, width, height)\r\n\tgetPixelsFromImage(processed)\r\n}\r\n\r\nval pixels = files.map(f => extractPixels(f, 50, 50))\r\nprintln(pixels.take(10).map(_.take(10).mkString(\"\", \",\", \", ...\")).mkString(\"\\n\"))","dateUpdated":"2017-01-07T13:24:17+0900","dateFinished":"2017-01-07T13:25:41+0900","dateStarted":"2017-01-07T13:25:38+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport javax.imageio.ImageIO\n\nimport java.io.File\n\nres56: Boolean = true\n\ngetPixelsFromImage: (image: java.awt.image.BufferedImage)Array[Double]\n\nextractPixels: (path: String, width: Int, height: Int)Array[Double]\n\npixels: org.apache.spark.rdd.RDD[Array[Double]] = MapPartitionsRDD[786] at map at <console>:57\n1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0, ...\n247.0,173.0,159.0,144.0,139.0,155.0,32.0,7.0,4.0,5.0, ...\n253.0,254.0,253.0,253.0,253.0,253.0,253.0,253.0,253.0,253.0, ...\n242.0,242.0,246.0,239.0,238.0,239.0,225.0,165.0,140.0,167.0, ...\n47.0,221.0,205.0,46.0,41.0,154.0,127.0,214.0,232.0,232.0, ...\n0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0, ...\n75.0,76.0,72.0,72.0,72.0,74.0,71.0,78.0,54.0,26.0, ...\n25.0,27.0,24.0,22.0,26.0,27.0,19.0,16.0,22.0,25.0, ...\n240.0,240.0,240.0,240.0,240.0,240.0,240.0,240.0,240.0,240.0, ...\n0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0, ...\r\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759650157_2073391771","id":"20170107-122730_1661777501","dateCreated":"2017-01-07T12:27:30+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:387","text":"// create vectors\r\nimport org.apache.spark.mllib.linalg.Vectors\r\nval vectors = pixels.map(p => Vectors.dense(p))\r\n// the setName method createa a human-readable name that is displayed in the Spark Web UI\r\nvectors.setName(\"image-vectors\")\r\n// remember to cache the vectors to speed up computation\r\nvectors.cache","dateUpdated":"2017-01-07T13:24:17+0900","dateFinished":"2017-01-07T13:25:42+0900","dateStarted":"2017-01-07T13:25:38+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.mllib.linalg.Vectors\n\nvectors: org.apache.spark.rdd.RDD[org.apache.spark.mllib.linalg.Vector] = MapPartitionsRDD[787] at map at <console>:58\n\nres60: vectors.type = image-vectors MapPartitionsRDD[787] at map at <console>:58\n\nres61: vectors.type = image-vectors MapPartitionsRDD[787] at map at <console>:58\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483761486011_955621534","id":"20170107-125806_1336191220","dateCreated":"2017-01-07T12:58:06+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1423","text":"// normalize the vectors by subtracting the column means\r\nimport org.apache.spark.mllib.feature.StandardScaler\r\nval scaler = new StandardScaler(withMean = true, withStd = false).fit(vectors)\r\nval scaledVectors = vectors.map(v => scaler.transform(v))","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:25:57+0900","dateStarted":"2017-01-07T13:25:41+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.mllib.feature.StandardScaler\n\nscaler: org.apache.spark.mllib.feature.StandardScalerModel = org.apache.spark.mllib.feature.StandardScalerModel@49756d4c\n\nscaledVectors: org.apache.spark.rdd.RDD[org.apache.spark.mllib.linalg.Vector] = MapPartitionsRDD[789] at map at <console>:63\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483761473255_-1162836558","id":"20170107-125753_16427201","dateCreated":"2017-01-07T12:57:53+0900","status":"ERROR","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1353","text":"// create distributed RowMatrix from vectors, and train PCA on it\r\nimport org.apache.spark.mllib.linalg.Matrix\r\nimport org.apache.spark.mllib.linalg.distributed.RowMatrix\r\nval matrix = new RowMatrix(scaledVectors)\r\nval K = 10\r\nval pc = matrix.computePrincipalComponents(K)","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:06+0900","dateStarted":"2017-01-07T13:25:42+0900","result":{"code":"ERROR","type":"TEXT","msg":"\nimport org.apache.spark.mllib.linalg.Matrix\n\nimport org.apache.spark.mllib.linalg.distributed.RowMatrix\n\nmatrix: org.apache.spark.mllib.linalg.distributed.RowMatrix = org.apache.spark.mllib.linalg.distributed.RowMatrix@5d0cbcaa\n\nK: Int = 10\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\njava.lang.OutOfMemoryError: Java heap space\r\n  at breeze.linalg.svd$.breeze$linalg$svd$$doSVD_Double(svd.scala:92)\r\n  at breeze.linalg.svd$Svd_DM_Impl$.apply(svd.scala:39)\r\n  at breeze.linalg.svd$Svd_DM_Impl$.apply(svd.scala:38)\r\n  at breeze.generic.UFunc$class.apply(UFunc.scala:48)\r\n  at breeze.linalg.svd$.apply(svd.scala:22)\r\n  at org.apache.spark.mllib.linalg.distributed.RowMatrix.computePrincipalComponentsAndExplainedVariance(RowMatrix.scala:386)\r\n  at org.apache.spark.mllib.linalg.distributed.RowMatrix.computePrincipalComponents(RowMatrix.scala:408)\r\n  ... 25 elided\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759734391_156446868","id":"20170107-122854_178497200","dateCreated":"2017-01-07T12:28:54+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:810","text":"// use Breeze to save the principal components as a CSV file\r\nval rows = pc.numRows\r\nval cols = pc.numCols\r\n\r\nprintln(rows, cols)","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:07+0900","dateStarted":"2017-01-07T13:25:58+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nrows: Int = 2500\n\ncols: Int = 10\n(2500,10)\r\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759869896_774554460","id":"20170107-123109_1842911470","dateCreated":"2017-01-07T12:31:09+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1233","text":"import breeze.linalg.DenseMatrix\r\nval pcBreeze = new DenseMatrix(rows, cols, pc.toArray)\r\nimport breeze.linalg.csvwrite\r\nimport java.io.File\r\n\r\ncsvwrite(new File(path + \"\\\\tmp\\\\pc.csv\"), pcBreeze)","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:08+0900","dateStarted":"2017-01-07T13:26:06+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport breeze.linalg.DenseMatrix\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\npcBreeze: breeze.linalg.DenseMatrix[Double] =\r\n-0.023234338226047924  -0.010525515001965996  ... (10 total)\r\n-0.024016015631274035  -0.011391908137325268  ...\r\n-0.024456269707474467  -0.013410653595240962  ...\r\n-0.024691643379227815  -0.01465848078826193   ...\r\n-0.02500289997673671   -0.014778409225441727  ...\r\n-0.025322651389670537  -0.014497785404836558  ...\r\n-0.025557914612618488  -0.014572742939534398  ...\r\n-0.02610787245942642   -0.014283637772248392  ...\r\n-0.026007873545897318  -0.013793276269312245  ...\r\n-0.026218941654563205  -0.014593348497434207  ...\r\n-0.0261770987887443    -0.016590015493411443  ...\r\n-0.026312891766340947  -0.016144486497781992  ...\r\n-0.025804685337915342  -0.01708030850412796   ...\r\n-0.02552035828579709   -0.016428554248971522  ...\r\n-0.02539201263284424   -0...\nimport breeze.linalg.csvwrite\n\nimport java.io.File\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759733475_595060614","id":"20170107-122853_1650566629","dateCreated":"2017-01-07T12:28:53+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:740","text":"// project the raw images to the K-dimensional space of the principla components\r\nval projected = matrix.multiply(pc)\r\n\r\nprintln(projected.numRows, projected.numCols)\r\nprintln(projected.rows.take(5).mkString(\"\\n\"))","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:09+0900","dateStarted":"2017-01-07T13:26:07+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nprojected: org.apache.spark.mllib.linalg.distributed.RowMatrix = org.apache.spark.mllib.linalg.distributed.RowMatrix@64c774be\n(1054,10)\r\n[2656.255334446329,1331.4316152623846,443.7717143992552,-352.53780240869236,52.351901583012136,377.38005777411445,487.02495755223225,-469.51892606553275,80.88622666722458,-84.82988295536644]\n[177.03108565025153,663.9809715438993,261.5032792420306,-708.5431250876686,467.03801326202625,181.45091920894117,-37.151514255238595,635.0116960435231,882.0389729322882,-534.4893725108706]\n[-1058.9834385356673,390.97548487828266,1508.4547062076274,363.7920683377587,275.1957888077916,-623.0196254444053,537.4147515744907,-218.67299199041383,-231.55887927232425,-99.98392390187166]\n[-4685.773699057371,255.26635771944333,-153.10119543377525,-24.569787433436193,522.6588196148435,-375.92648800752386,-539.8743970690409,-470.07065337305744,-67.54765928696176,51.92673828087038]\n[-2762.790568358732,622.6539180572752,-405.0067894389495,-462.9097829557323,866.4534195252696,-919.4904224431662,-31.691295619976753,-782.0657727943529,516.2915128509042,237.1138387377929]\r\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759764833_-1173767997","id":"20170107-122924_152874265","dateCreated":"2017-01-07T12:29:24+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:950","text":"// relationship to SVD\r\nval svd = matrix.computeSVD(10, computeU = true)\r\n\r\nprintln(s\"U dimension: (${svd.U.numRows}, ${svd.U.numCols})\")\r\nprintln(s\"S dimension: (${svd.s.size}, )\")\r\nprintln(s\"V dimension: (${svd.V.numRows}, ${svd.V.numCols})\")","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:13+0900","dateStarted":"2017-01-07T13:26:08+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nsvd: org.apache.spark.mllib.linalg.SingularValueDecomposition[org.apache.spark.mllib.linalg.distributed.RowMatrix,org.apache.spark.mllib.linalg.Matrix] =\r\nSingularValueDecomposition(org.apache.spark.mllib.linalg.distributed.RowMatrix@3cc432f8,[54091.00997110357,33757.702867982436,24541.19369477594,23309.584188883015,21803.098411583585,17855.74727242844,17502.44722740105,16468.532530576573,15918.13789124898,15079.788395651329],0.02323433822604845   0.010525515001966615  ... (10 total)\r\n0.02401601563127419   0.011391908137323943  ...\r\n0.02445626970747456   0.01341065359524074   ...\r\n0.024691643379227763  0.014658480788261916  ...\r\n0.025002899976736846  0.014778409225441847  ...\r\n0.02532265138967063   0.014497785404836573  ...\r\n0.025557914612618537  0.014572742939534405  ...\r\n0.02610787245...U dimension: (1054, 10)\r\nS dimension: (10, )\r\nV dimension: (2500, 10)\r\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759763844_-694755617","id":"20170107-122923_2013048985","dateCreated":"2017-01-07T12:29:23+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:880","text":"// simple function to compare the two matrices, with a tolerance for floating point number comparison\r\ndef approxEqual(array1: Array[Double], array2: Array[Double], tolerance: Double = 1e-6): Boolean = {\r\n\t// note we ignore sign of the principal component / singular vector elements\r\n\tval bools = array1.zip(array2).map { case (v1, v2) => if (math.abs(math.abs(v1) - math.abs(v2)) > 1e-6) false else true }\r\n\tbools.fold(true)(_ & _)\r\n}\r\n\r\n// test the function\r\nprintln(approxEqual(Array(1.0, 2.0, 3.0), Array(1.0, 2.0, 3.0)))\r\nprintln(approxEqual(Array(1.0, 2.0, 3.0), Array(3.0, 2.0, 1.0)))\r\nprintln(approxEqual(svd.V.toArray, pc.toArray))","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:14+0900","dateStarted":"2017-01-07T13:26:10+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\napproxEqual: (array1: Array[Double], array2: Array[Double], tolerance: Double)Boolean\ntrue\r\nfalse\r\ntrue\r\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759813769_264700871","id":"20170107-123013_1891196749","dateCreated":"2017-01-07T12:30:13+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1160","text":"// compare projections\r\nval breezeS = breeze.linalg.DenseVector(svd.s.toArray)\r\nval projectedSVD = svd.U.rows.map { v => \r\n\tval breezeV = breeze.linalg.DenseVector(v.toArray)\r\n\tval multV = breezeV :* breezeS\r\n\tVectors.dense(multV.data)\r\n}\r\nprojected.rows.zip(projectedSVD).map { case (v1, v2) => approxEqual(v1.toArray, v2.toArray) }.filter(b => true).count","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:16+0900","dateStarted":"2017-01-07T13:26:13+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nbreezeS: breeze.linalg.DenseVector[Double] = DenseVector(54091.00997110357, 33757.702867982436, 24541.19369477594, 23309.584188883015, 21803.098411583585, 17855.74727242844, 17502.44722740105, 16468.532530576573, 15918.13789124898, 15079.788395651329)\n\nprojectedSVD: org.apache.spark.rdd.RDD[org.apache.spark.mllib.linalg.Vector] = MapPartitionsRDD[832] at map at <console>:76\n\nres86: Long = 1054\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759812799_651758264","id":"20170107-123012_2002260201","dateCreated":"2017-01-07T12:30:12+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1090","text":"// inspect singular values\r\nval sValues = (1 to 5).map { i => matrix.computeSVD(i, computeU = false).s }\r\nsValues.foreach(println)","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:21+0900","dateStarted":"2017-01-07T13:26:14+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\nsValues: scala.collection.immutable.IndexedSeq[org.apache.spark.mllib.linalg.Vector] = Vector([54091.00997110355], [54091.00997110356,33757.702867982436], [54091.00997110355,33757.70286798241,24541.193694775942], [54091.009971103565,33757.70286798243,24541.193694775917,23309.58418888299], [54091.009971103595,33757.70286798241,24541.193694775924,23309.584188883007,21803.098411583567])\n[54091.00997110355]\r\n[54091.00997110356,33757.702867982436]\r\n[54091.00997110355,33757.70286798241,24541.193694775942]\r\n[54091.009971103565,33757.70286798243,24541.193694775917,23309.58418888299]\r\n[54091.009971103595,33757.70286798241,24541.193694775924,23309.584188883007,21803.098411583567]\r\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759811752_-1711600987","id":"20170107-123011_687178357","dateCreated":"2017-01-07T12:30:11+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1020","text":"val svd300 = matrix.computeSVD(300, computeU = false)\r\nval sMatrix = new DenseMatrix(1, 300, svd300.s.toArray)\r\ncsvwrite(new File(path + \"\\\\tmp\\\\s.csv\"), sMatrix)","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:44+0900","dateStarted":"2017-01-07T13:26:16+0900","result":{"code":"SUCCESS","type":"TEXT","msg":"\r\nsvd300: org.apache.spark.mllib.linalg.SingularValueDecomposition[org.apache.spark.mllib.linalg.distributed.RowMatrix,org.apache.spark.mllib.linalg.Matrix] =\r\nSingularValueDecomposition(null,[54091.00997110357,33757.70286798242,24541.19369477594,23309.584188883,21803.098411583593,17855.747272428445,17502.44722740104,16468.532530576576,15918.137891248985,15079.788395651318,14056.776121876945,13286.258813013737,12519.63535692038,11154.1239469019,10926.50828707987,10569.773193961295,10396.317552576347,10048.49094935359,9384.193506154535,9346.047322109383,8905.003206260528,8710.378864546838,8614.995370663553,8187.838457273959,7936.666720223031,7790.22065995678,7722.158286733984,7533.212885431109,7497.850178617765,7336.850809112126,7120.494174105015,7047.1809689012725,7030.403489111335,6857.1...\nsMatrix: breeze.linalg.DenseMatrix[Double] = 54091.00997110357  33757.70286798242  24541.19369477594  ... (300 total)\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483759649386_-2120386565","id":"20170107-122729_990829235","dateCreated":"2017-01-07T12:27:29+0900","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:317","text":"","dateUpdated":"2017-01-07T13:24:18+0900","dateFinished":"2017-01-07T13:26:44+0900","dateStarted":"2017-01-07T13:26:21+0900","result":{"code":"SUCCESS","type":"TEXT","msg":""}}],"name":"Chapter 08","id":"2C7QZS8T3","angularObjects":{"2C47MGX9B:shared_process":[],"2C22X7YME:shared_process":[],"2C3K6RKJN:shared_process":[],"2C2EWZ9TA:shared_process":[],"2C2JMDYZ3:shared_process":[],"2C1S848VZ:shared_process":[],"2C2QVVB9Q:shared_process":[],"2C43GNJ9W:shared_process":[],"2C12D5W9R:shared_process":[],"2C1T2UZ3P:shared_process":[],"2C3G51W1E:shared_process":[],"2C36955YP:shared_process":[],"2BZTACRZS:shared_process":[],"2C4AVWZ7X:shared_process":[],"2C3MT2CTG:shared_process":[],"2C1T89CKC:shared_process":[],"2C33Z58NN:shared_process":[],"2C29H1CDW:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}